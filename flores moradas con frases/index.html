<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Escape Rompecabezas</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  background:#080812;
  color:#fff;
  font-family:Arial, sans-serif;
  text-align:center;
  margin:0;
  padding:20px;
}
h1{margin-bottom:5px;}
section{
  display:none;
  max-width:600px;
  margin:auto;
  background:#141424;
  padding:20px;
  border-radius:14px;
  box-shadow:0 0 20px rgba(0,0,0,0.5);
}
section.active{display:block;}
.box{
  display:inline-block;
  padding:15px;
  margin:8px;
  background:#ff4ecd;
  border-radius:10px;
  cursor:pointer;
  font-size:24px;
}
input{
  padding:10px;
  border-radius:10px;
  border:none;
  margin-top:10px;
  width:80%;
  text-align:center;
}
button{
  padding:10px 25px;
  border-radius:20px;
  border:none;
  background:#6ee7ff;
  font-size:16px;
  cursor:pointer;
  margin-top:15px;
}
button:hover{opacity:.9;}
.error{color:#ff6b6b;margin-top:10px;}
</style>

<style>
  .volver-inicio{
    position: fixed;
    top: 14px;
    left: 14px;
    z-index: 9999;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 10px 12px;
    border-radius: 999px;
    background: rgba(0,0,0,.40);
    border: 1px solid rgba(255,255,255,.18);
    color: #fff;
    text-decoration: none;
    font-weight: 700;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    box-shadow: 0 10px 30px rgba(0,0,0,.25);
  }
  .volver-inicio:hover{ transform: translateY(-1px); background: rgba(0,0,0,.52); }
</style>
</head>

<body>

<a class="volver-inicio" href="../index.html" aria-label="Volver al inicio">‚Üê Inicio</a>

<h1>üß© Escape Rompecabezas</h1>
<p>Super√° los 5 desaf√≠os para continuar</p>

<!-- JUEGO 1 -->
<section class="active">
  <h2>1Ô∏è‚É£ Orden√° las piezas</h2>
  <p>Toc√° en orden: üåô ‚≠ê ‚ù§Ô∏è</p>
  <div>
    <div class="box" onclick="tap('‚ù§Ô∏è')">‚ù§Ô∏è</div>
    <div class="box" onclick="tap('üåô')">üåô</div>
    <div class="box" onclick="tap('‚≠ê')">‚≠ê</div>
  </div>
  <div id="msg1" class="error"></div>
</section>

<!-- JUEGO 2 -->
<section>
  <h2>2Ô∏è‚É£ Memoria r√°pida</h2>
  <p>Memoriz√° el n√∫mero (2 segundos)</p>
  <h2 id="num">---</h2>
  <input id="mem" placeholder="Ingres√° el n√∫mero">
  <button onclick="checkMem()">Confirmar</button>
  <div id="msg2" class="error"></div>
</section>

<!-- JUEGO 3 -->
<section>
  <h2>3Ô∏è‚É£ Secuencia l√≥gica</h2>
  <p>2 ‚Äì 4 ‚Äì 8 ‚Äì ?</p>
  <input id="seq" placeholder="Respuesta">
  <button onclick="checkSeq()">Confirmar</button>
  <div id="msg3" class="error"></div>
</section>

<!-- JUEGO 4 -->
<section>
  <h2>4Ô∏è‚É£ Palabras del coraz√≥n</h2>
  <p id="wordText">Orden√° esta palabra üí´</p>
  <h3 id="scrambled">alleb</h3>

  <input id="code" placeholder="Escrib√≠ la palabra">
  <button onclick="checkCode()">Confirmar</button>
  <div id="msg4" class="error"></div>
</section>

<!-- MODAL -->
<div id="modal" style="
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.8);
  align-items:center;
  justify-content:center;
  z-index:1000;
">
  <div style="
    background:#141424;
    padding:25px;
    border-radius:16px;
    max-width:400px;
    text-align:center;
    box-shadow:0 0 20px rgba(255,255,255,0.15);
  ">
    <h2>üíñ</h2>
<p style="font-size:18px; line-height:1.5;">
  Si alguna vez pens√°s que no sos linda,  
  acordate de esto:  
  sos hermosa, sos bella  
  y eso no se discute solcitoo üòçüòö
</p>

    <p style="margin-top:15px;">
      Continuando en <b id="countdown">12</b>‚Ä¶
    </p>
  </div>
</div>

<!-- JUEGO 5 -->
<section>
  <h2>5Ô∏è‚É£ √öltimo candado</h2>
  <p>Escrib√≠ la palabra que lo abre todo üíñ</p>
  <input id="final" placeholder="Palabra final">
  <button onclick="finish()">Desbloquear</button>
  <div id="msg5" class="error"></div>
</section>

<script>
const sections = document.querySelectorAll("section");
let current = 0;

/* -------- PASAR DE SECCI√ìN -------- */
function next(){
  sections[current].classList.remove("active");
  current++;
  sections[current].classList.add("active");

  if(current === 1) startMemoryGame();
}

/* -------- JUEGO 1 -------- */
let order = [];
const correct = ['üåô','‚≠ê','‚ù§Ô∏è'];

function tap(v){
  order.push(v);
  if(order.length === 3){
    if(JSON.stringify(order) === JSON.stringify(correct)){
      next();
    } else {
      order = [];
      msg1.textContent = "Orden incorrecto üòµ";
    }
  }
}

/* -------- JUEGO 2 -------- */
let memoryNumber = 0;

function startMemoryGame(){
  mem.value = "";
  msg2.textContent = "";
  memoryNumber = Math.floor(1000 + Math.random() * 9000);
  num.textContent = memoryNumber;

  setTimeout(() => {
    num.textContent = "‚ùì‚ùì‚ùì";
  }, 2000);
}

function checkMem(){
  if(mem.value == memoryNumber){
    next();
  } else {
    msg2.textContent = "Ese no era üëÄ";
  }
}

/* -------- JUEGO 3 -------- */
function checkSeq(){
  if(seq.value == 16){
    next();
  } else {
    msg3.textContent = "Pensalo mejor ü§î";
  }
}

/* -------- JUEGO 4 -------- */
let step4 = 0;

function checkCode(){
  const value = code.value.toLowerCase().trim();

  if(step4 === 0 && value === "bella"){
    step4 = 1;
    code.value = "";
    msg4.textContent = "";
    scrambled.textContent = "adnil";
    wordText.textContent = "Ahora orden√° esta otra üí´";
    return;
  }

  if(step4 === 1 && value === "linda"){
    openModal();
    return;
  }

  msg4.textContent = "Casi‚Ä¶ acomodala bien ü´∂";
}

/* -------- MODAL -------- */
function openModal(){
  modal.style.display = "flex";
  let time = 12;
  countdown.textContent = time;

  const interval = setInterval(() => {
    time--;
    countdown.textContent = time;

    if(time === 0){
      clearInterval(interval);
      modal.style.display = "none";
      next();
    }
  }, 1000);
}

/* -------- JUEGO 5 -------- */
function finish(){
  if(final.value.toLowerCase().includes("amor")){
    window.location.href = "flores21.html";
  } else {
    msg5.textContent = "Todav√≠a no üíî";
  }
}
</script>

</body>
</html>
