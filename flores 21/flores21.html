<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Solcitoo</title>
<style>
body {
  margin: 0;
  font-family: "Poppins", sans-serif;
  background:
    radial-gradient(circle at 18% 12%, rgba(255, 105, 180, 0.28), transparent 45%),
    radial-gradient(circle at 82% 18%, rgba(171, 71, 188, 0.22), transparent 50%),
    radial-gradient(circle at 50% 88%, rgba(255, 112, 67, 0.18), transparent 55%),
    linear-gradient(to bottom, #fff3f8, #f3e5f5);
  background-attachment: fixed;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  overflow-x: hidden;
  flex-direction: column;
  padding: 10px;
}

.pantalla-inicio { text-align: center; padding: 0 15px; }
.pantalla-inicio h1 {
  font-size: clamp(2rem, 5vw, 2.6rem);
  color: #e0a800;
  margin-bottom: 1.2rem;
  line-height: 1.3;
}
.btn {
  padding: 16px 28px;
  background: #ffd54f;
  border: none;
  border-radius: 14px;
  font-weight: bold;
  cursor: pointer;
  transition: 0.3s;
  font-size: 1.1rem;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
}
.btn:hover { background: #ffca28; transform: scale(1.05); }

.flor-container {
  display: none;
  flex-direction: column;
  align-items: center;
  gap: 18px;
  border: 6px solid #fdd835;
  border-radius: 50%;
  padding: 50px;
  background: rgba(255,253,231,0.9);
  box-shadow: 0 0 30px rgba(253,216,53,0.7);
  max-width: 95vw;
  box-sizing: border-box;
}

svg { width: 100%; height: auto; max-width: 400px; }
.petalo {
  fill: url(#gradPetalo);
  stroke: #6a1b9a;
  stroke-width: 1.6;
  transition: transform 0.6s ease, opacity 0.6s ease;
  transform-box: fill-box;
  transform-origin: center;
  filter: drop-shadow(0 0 7px rgba(142,36,170,0.75));
  cursor: pointer;
}
.petalo.removido {
  opacity: 0;
  transform: scale(0.2) translateY(-15px);
  pointer-events: none;
}
.petalo-g { cursor: pointer; }

.centro {
  fill: url(#gradCentro);
  stroke: #ad1457;
  stroke-width: 2.5;
  filter: drop-shadow(0 0 12px rgba(173,20,87,0.35)) drop-shadow(0 0 18px rgba(142,36,170,0.35));
}
.detalles-centro {
  fill: #ffe082;
  opacity: 0.98;
  filter: drop-shadow(0 1px 2px rgba(0,0,0,0.28)) drop-shadow(0 0 6px rgba(142,36,170,0.25));
}

.cartelito {
  margin-top: 14px;
  background: #fdd835;
  padding: 12px 22px;
  border-radius: 14px;
  font-weight: bold;
  color: #5d4037;
  font-size: clamp(1.1rem, 4vw, 1.3rem);
  box-shadow: 0 4px 12px rgba(0,0,0,0.25);
  animation: parpadeo 2s infinite;
  text-align: center;
}
@keyframes parpadeo { 0%,100%{opacity:1} 50%{opacity:0.65} }

#boton-musica {
  position: fixed;
  top: 15px;
  right: 20px;
  width: 55px;
  height: 55px;
  background: rgba(255,213,79,0.9);
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  box-shadow: 0 5px 12px rgba(0,0,0,0.3);
  transition: 0.25s;
  z-index: 2000;
}
#boton-musica:hover { transform: scale(1.08); background: rgba(255,193,7,1); }
.icono-svg { width: 26px; height: 26px; fill: white; }

.corazon {
  position: fixed;
  bottom: -50px;
  font-size: 1.8rem;
  color: #8e24aa;
  animation: subir 6s linear infinite;
  pointer-events: none;
  z-index:1000;
}
@keyframes subir { 0% { transform: translateY(0) rotate(0deg); opacity:1 } 100% { transform: translateY(-100vh) rotate(360deg); opacity:0 } }

.modal {
  position: fixed;
  top:0; left:0;
  width:100%; height:100%;
  background: rgba(0,0,0,0.6);
  display:none; justify-content:center; align-items:center;
  z-index:1500;
  padding: 15px;
  box-sizing: border-box;
}
.modal-content {
  background: #fff9c4;
  padding: 28px 34px;
  border-radius: 16px;
  box-shadow:0 6px 22px rgba(0,0,0,0.45);
  max-width: 95vw;
  text-align: center;
  animation: fadeIn .35s ease;
  position: relative;
  word-wrap: break-word;
}
.modal-content p { font-size: clamp(1.2rem, 4.5vw, 1.4rem); color: #6d4c41; margin: 0; }
.close { position: absolute; top: 8px; right: 8px; font-size: 1.6rem; cursor: pointer; color: #444; }
@keyframes fadeIn { from {opacity:0; transform:scale(.98)} to {opacity:1; transform:scale(1)} }

#final-overlay {
  position: fixed; top:0; left:0; width:100%; height:100%; background:#000; display:none; justify-content:center; align-items:center; z-index:3000;
}
#final-overlay .centrito {
  width: 70px; height:70px; background: radial-gradient(circle,#ffea00,#ff8f00);
  border-radius:50%; position:relative; z-index: 10;
}
.chispa {
  position: absolute; width: 6px; height:6px; background:#fff176; border-radius:50%;
  pointer-events:none; animation: explotar 1s ease-out forwards;
  box-shadow:0 0 10px #ffeb3b,0 0 20px #ff9800;
}
@keyframes explotar { from{transform:translate(0,0) scale(1); opacity:1;} to{transform:translate(var(--x),var(--y)) scale(0.2);opacity:0;} }

#avion { position:absolute; width:50px; top:50%; left:50%; transform: translate(-50%,-50%) scale(0); transition: transform 1s ease; z-index:20; }

.volver-inicio{
  position: fixed;
  top: 14px;
  left: 14px;
  z-index: 9999;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 10px 12px;
  border-radius: 999px;
  background: rgba(255,255,255,.78);
  border: 1px solid rgba(0,0,0,.10);
  color: #3b2f2f;
  text-decoration: none;
  font-weight: 800;
  box-shadow: 0 10px 26px rgba(0,0,0,.18);
}
.volver-inicio:hover{ transform: translateY(-1px); background: rgba(255,255,255,.92); }

/* ==== Carta estilo sobre ==== */
#carta {
  position: absolute;
  top:50%; left:50%;
  transform: translate(-50%, -50%) scale(0);
  width: 90vw;              /* ancho relativo a pantalla */
  max-width: 420px;
  background: #fff9c4;
  border-radius: 12px;
  box-shadow: 0 5px 18px rgba(0,0,0,0.35);
  display: flex;
  flex-direction: column;
  overflow: visible;
  font-family: 'Caveat', cursive;
  padding: 0;
  perspective: 800px;
  z-index: 100;
}

/* Tapa del sobre con doblado */
#carta .tapa {
  width: 0;
  height: 0;
  border-left: 50%;          /* proporcional al ancho de la carta */
  border-right: 50%;
  border-bottom: 25%;        /* proporcional al ancho */
  border-bottom-color: #fdd835;
  border-style: solid;
  position: absolute;
  top:0; left:0;
  transform-origin: bottom center;
  transition: transform 1s ease, z-index 0s linear 1s;
  z-index: 10;
  backface-visibility: hidden;
}


/* Contenido dentro del sobre */
#carta .contenido {
  margin-top: 110px;
  width: 100%;
  padding: 25px 30px;
  text-align: center;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: clamp(1rem, 2.3vw, 1.3rem);
  color: #6d4c41;
  opacity: 0;
  transition: opacity 1s ease 0.5s;
  line-height: 1.6;
  white-space: pre-wrap;
  box-sizing: border-box;
  z-index: 20;
  overflow: visible;           /* quita scroll */
}

/* Estado abierto del sobre con doblado */
#carta.abierta .tapa {
  transform: translateY(-120px) rotateX(-75deg);
  z-index: 0;
}
#carta.abierta .contenido {
  opacity: 1;
  margin-top: 30px;
}

/* ===== Estrella ===== */
.estrella {
  position: relative;
  width: 0;
  height: 0;
  margin: 0 auto;
  z-index: 10;
  border-right: 60px solid transparent;
  border-bottom: 42px solid #ffeb3b;
  border-left: 60px solid transparent;
  transform: rotate(35deg);
  animation: brillar 1.5s infinite alternate;
}
.estrella:before {
  border-bottom: 48px solid #ffeb3b;
  border-left: 18px solid transparent;
  border-right: 18px solid transparent;
  position: absolute;
  height: 0;
  width: 0;
  top: -27px;
  left: -39px;
  display: block;
  content: '';
  transform: rotate(-35deg);
}
.estrella:after {
  position: absolute;
  top: 2px;
  left: -63px;
  width: 0;
  height: 0;
  border-right: 60px solid transparent;
  border-bottom: 42px solid #ffeb3b;
  border-left: 60px solid transparent;
  transform: rotate(-70deg);
  content: '';
}
@keyframes brillar {
  0% { filter: drop-shadow(0 0 5px #fff59d) drop-shadow(0 0 10px #ffc107); }
  100% { filter: drop-shadow(0 0 20px #ffeb3b) drop-shadow(0 0 40px #ff9800); }
}

/* Chispitas */
.chispa {
  position: absolute;
  width: 6px;
  height: 6px;
  background: #fff176;
  border-radius: 50%;
  pointer-events: none;
  animation: explotar 1s ease-out forwards;
  box-shadow: 0 0 10px #ffeb3b, 0 0 20px #ff9800;
}
@keyframes explotar {
  from { transform: translate(0,0) scale(1); opacity:1; }
  to { transform: translate(var(--x),var(--y)) scale(0.2); opacity:0; }
}

</style>
<link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>

<a class="volver-inicio" href="../index.html" aria-label="Volver al inicio">‚Üê Inicio</a>

<div id="boton-musica" title="Play / Pause">
  <svg id="icono-musica" class="icono-svg" viewBox="0 0 64 64">
    <polygon points="16,12 16,52 52,32"/>
  </svg>
</div>

<div class="pantalla-inicio" id="inicio">
  <h1>Bienvenida a tu sorpresa Solcito üåº</h1>
  <p>Haz click en continuar ni√±a bellaa</p>
  <button class="btn" onclick="mostrarFlor()">Continuar</button>
</div>

<div class="flor-container" id="flor">
  <svg viewBox="0 0 250 400" role="img" aria-label="Flor amarilla interactiva">
    <defs>
      <linearGradient id="gradPetalo" x1="0" y1="0" x2="0" y2="1">
        <stop offset="0%" stop-color="#e1bee7"/>
        <stop offset="100%" stop-color="#8e24aa"/>
      </linearGradient>
      <radialGradient id="gradCentro" cx="50%" cy="50%" r="50%">
        <stop offset="0%" stop-color="#fff59d"/>
        <stop offset="45%" stop-color="#ffca28"/>
        <stop offset="100%" stop-color="#f06292"/>
      </radialGradient>
      <g id="petaloShape">
        <path d="M0 -78 C20 -70 34 -48 30 -26 C26 -6 16 16 0 44 C-16 16 -26 -6 -30 -26 C-34 -48 -20 -70 0 -78 Z"/>
      </g>
    </defs>
    <rect x="120" y="180" width="8" height="200" fill="#388e3c" rx="3"/>
    <path d="M124 250 Q150 220, 170 250 Q150 280, 124 250 Z" fill="#4caf50" stroke="#388e3c" stroke-width="1"/>
    <path d="M124 300 Q94 280, 74 310 Q94 340, 124 300 Z" fill="#4caf50" stroke="#388e3c" stroke-width="1"/>

    <g id="petalos" transform="translate(125 125)">
      <!-- 16 p√©talos -->
    <g class="petalo-g" transform="rotate(0)"><use href="#petaloShape" class="petalo" data-frase="Eres mi sol en los d√≠as nublados ‚òÄÔ∏è"/></g>
 <g class="petalo-g" transform="rotate(22.5)"><use href="#petaloShape" class="petalo" data-frase="Tu sonrisa ilumina mi mundo, hasta en los d√≠as m√°s grises ‚ú®"/></g>
<g class="petalo-g" transform="rotate(45)"><use href="#petaloShape" class="petalo" data-frase="Mis locuras van con tus locuras ü§≠"/></g>
<g class="petalo-g" transform="rotate(67.5)"><use href="#petaloShape" class="petalo" data-frase="Gracias por existir y por ser mi c√≥mplice de aventuras üåº"/></g>
<g class="petalo-g" transform="rotate(90)"><use href="#petaloShape" class="petalo" data-frase="Eres un sue√±o hecho realidad üí´"/></g>
<g class="petalo-g" transform="rotate(112.5)"><use href="#petaloShape" class="petalo" data-frase="Te pienso en cada 11:11, porque la amistad tambi√©n es un deseo üåü"/></g>
<g class="petalo-g" transform="rotate(135)"><use href="#petaloShape" class="petalo" data-frase="Brillas con luz propia y eso inspira üå∏"/></g>
<g class="petalo-g" transform="rotate(157.5)"><use href="#petaloShape" class="petalo" data-frase="Mi lugar favorito es a tu lado, ri√©ndonos de cualquier cosa üíñ"/></g>
<g class="petalo-g" transform="rotate(180)"><use href="#petaloShape" class="petalo" data-frase="Me haces inmensamente feliz ü•∞"/></g>
<g class="petalo-g" transform="rotate(202.5)"><use href="#petaloShape" class="petalo" data-frase="Contigo todo es mejor, porque juntos somos imparables üåª"/></g>
<g class="petalo-g" transform="rotate(225)"><use href="#petaloShape" class="petalo" data-frase="Eres √∫nica e irremplazable üåü"/></g>
<g class="petalo-g" transform="rotate(247.5)"><use href="#petaloShape" class="petalo" data-frase="Cada d√≠a contigo es un regalo, y lo mejor es que somos amigos con superpoderes üéÅ"/></g>
<g class="petalo-g" transform="rotate(270)"><use href="#petaloShape" class="petalo" data-frase="Siempre pienso en vos üòò"/></g>
<g class="petalo-g" transform="rotate(292.5)"><use href="#petaloShape" class="petalo" data-frase="Sos mi manca favoritaa, y mi partner en todo lo bueno üòÑ"/></g>
<g class="petalo-g" transform="rotate(315)"><use href="#petaloShape" class="petalo" data-frase="Me vuelves cursi y feliz ü§≠"/></g>
<g class="petalo-g" transform="rotate(337.5)"><use href="#petaloShape" class="petalo" data-frase="Soy tu fan #1, aunque digamos que solo somos amigos... gui√±o gui√±o üíò"/></g>

    </g>
    <circle class="centro" cx="125" cy="125" r="35"/>
    <circle class="detalles-centro" cx="115" cy="115" r="8"/>
    <circle class="detalles-centro" cx="135" cy="120" r="10"/>
    <circle class="detalles-centro" cx="125" cy="140" r="7"/>
    <circle class="detalles-centro" cx="110" cy="138" r="9"/>
  </svg>
  <div class="cartelito">‚ú® Toca cada p√©talo ‚ú®</div>
</div>

<div class="modal" id="modal">
  <div class="modal-content"> 
    <span class="close" onclick="cerrarModal()">&times;</span>
    <p id="frase"></p>
  </div>
</div>

<div id="final-overlay">
  <!-- <div class="centrito"></div> -->
  <div class="estrella"></div>
  <img id="avion" src="https://i.postimg.cc/15T8k8rh/avion.png" alt="Avioncito"/>
  <div id="carta">
    <div class="tapa"></div>
    <div class="contenido">
      <p id="contenido-carta"></p>
    </div>
  </div>
</div>

<audio id="musica" loop>
  <source src="Download.mp4" type="audio/mpeg">
</audio>
<audio id="sonidoPortal" src="chispasmascorto.mp4"></audio>
<audio id="sonidoBoom" src="edsheranmg.mp4"></audio>

<script>
const frases = ["Eres mi sol en los d√≠as nublados ‚òÄÔ∏è","Tu sonrisa ilumina mi mundo ‚ú®","Mis locuras van con tus locuras ü§≠","Gracias por existir üåº","Eres un sue√±o hecho realidad üí´","Te pienso en cada 11:11 üåü","Brillas con luz propia y eso inspira üå∏","Mi lugar favorito es a tu lado üíñ","Me haces inmensamente feliz ü•∞","Contigo todo es mejor titii üåª","Eres √∫nica e irremplazable üåü","Cada d√≠a contigo es un regalo üéÅ"];
const modal = document.getElementById("modal");
const fraseTexto = document.getElementById("frase");
const musica = document.getElementById("musica");
const overlay = document.getElementById("final-overlay");
const centrito = overlay.querySelector(".centrito");
const avion = document.getElementById("avion");
const carta = document.getElementById("carta");
const contenidoCarta = carta.querySelector(".contenido");
const sonidoPortal = document.getElementById("sonidoPortal");
const sonidoBoom = document.getElementById("sonidoBoom");

function mostrarModal(frase){ fraseTexto.textContent = frase; modal.style.display = "flex"; }

function cerrarModal(){
  modal.style.display = "none";
  if(petalosRemovidos === petalos.length){
    musica.pause();
    sonidoPortal.play();
    lanzarFinal();
  }
}

const petalos = document.querySelectorAll(".petalo");
let petalosRemovidos=0;
petalos.forEach(p=>{
  p.addEventListener("click", e=>{
    e.stopPropagation();
    if(!p.classList.contains("removido")){
      p.classList.add("removido");
      const frasePetalo = p.dataset.frase; // toma la frase fija del p√©talo
      mostrarModal(frasePetalo);
      petalosRemovidos++;
      if(petalosRemovidos===petalos.length){
        setTimeout(()=> mostrarModal("Todas tus flores amarillas han florecido üíõüíõüíõ, toca la x lindaa y espera <3"),600);
      }
    }
  });
});

const botonMusica=document.getElementById("boton-musica");
const iconoMusica=document.getElementById("icono-musica");
botonMusica.addEventListener("click",()=>{
  if(musica.paused){ musica.play().catch(()=>{}); iconoMusica.innerHTML='<rect x="16" y="12" width="8" height="40"/><rect x="40" y="12" width="8" height="40"/>'; }
  else{ musica.pause(); iconoMusica.innerHTML='<polygon points="16,12 16,52 52,32"/>'; }
});

function mostrarFlor(){
  document.getElementById("inicio").style.display="none";
  document.getElementById("flor").style.display="flex";
  musica.volume=0.5; musica.play().catch(()=>console.log("Autoplay bloqueado."));
  lanzarCorazones();
  iconoMusica.innerHTML='<rect x="16" y="12" width="8" height="40"/><rect x="40" y="12" width="8" height="40"/>';
}

function lanzarCorazones(){
  setInterval(()=>{
    const corazon=document.createElement("div");
    corazon.classList.add("corazon");
    corazon.textContent="üíú";
    corazon.style.left=Math.random()*100+"vw";
    corazon.style.fontSize=(20+Math.random()*20)+"px";
    document.body.appendChild(corazon);
    setTimeout(()=>corazon.remove(),8000);
  },400);
}

// function lanzarFinal(){
//   overlay.style.display="flex";
//   let escalaCentro=1, anguloGiro=0;
//   const girarInterval=setInterval(()=>{
//     escalaCentro+=0.02;
//     anguloGiro+=10;
//     centrito.style.transform=`scale(${escalaCentro}) rotate(${anguloGiro}deg)`;
//     const chispa=document.createElement("div");
//     chispa.className="chispa";
//     chispa.style.setProperty('--x',(Math.random()*200-100)+'px');
//     chispa.style.setProperty('--y',(Math.random()*200-100)+'px');
//     centrito.appendChild(chispa);
//     setTimeout(()=>chispa.remove(),1000);
//   },50);

//   setTimeout(()=>{
//     clearInterval(girarInterval);
//     sonidoBoom.play();
//     carta.style.transform="translate(-50%, -50%) scale(0.5) rotate(-45deg)";
//     carta.style.transition="transform 1s ease-out";
//     void carta.offsetWidth;
//     carta.style.transform="translate(-50%, -50%) scale(1) rotate(0deg)";
//     contenidoCarta.textContent="Aunque todav√≠a no nos hayamos visto en persona, ya sos mi lugar seguro y mi alegr√≠a del d√≠a. üí´ Cada palabra tuya me acerca, cada risa me desarma y cada ocurrencia me hace sonre√≠r como un bobo. üôà No somos novios (todav√≠a), pero se siente como si lo fu√©ramos: en tus triunfos voy a aplaudirte como tu fan n√∫mero 1 üíò, en tus bajones voy a bancarte con todo mi coraz√≥n üíõ y en cada paso que des te voy a recordar lo orgulloso que estoy ü•∞. S√≠, soy cursi, pero es que con vos me sale natural: rom√°ntico, juguet√≥n y medio tonto ü§≠. Me muero por ese abrazo pendiente, por mirarte a los ojos por primera vez y por todas las risas que nos esperan. Gracias por existir; sos mi persona favorita en este mundo (y en todos los universos paralelos). üòè‚ú®";
//     setTimeout(()=>{ carta.classList.add("abierta"); }, 1000);
//     avion.style.transform="translate(-50%, -50%) scale(1) rotate(-15deg)";
//   },5000);
// }
function lanzarFinal(){
  overlay.style.display = "flex";
  const estrella = document.querySelector(".estrella"); // üëâ ahora usamos la estrella
  let escalaCentro = 1, anguloGiro = 0;

  const girarInterval = setInterval(() => {
    escalaCentro += 0.02;
    anguloGiro += 10;
    estrella.style.transform = `scale(${escalaCentro}) rotate(${anguloGiro}deg)`;

    const chispa = document.createElement("div");
    chispa.className = "chispa";
    chispa.style.setProperty('--x', (Math.random() * 200 - 100) + 'px');
    chispa.style.setProperty('--y', (Math.random() * 200 - 100) + 'px');
    estrella.appendChild(chispa);
    setTimeout(() => chispa.remove(), 1000);
  }, 50);

  setTimeout(() => {
    clearInterval(girarInterval);
    sonidoBoom.play();

    carta.style.transform = "translate(-50%, -50%) scale(0.5) rotate(-45deg)";
    carta.style.transition = "transform 1s ease-out";
    void carta.offsetWidth; // forzar reflow
    carta.style.transform = "translate(-50%, -50%) scale(1) rotate(0deg)";
contenidoCarta.textContent = "Para Milii. Todav√≠a nos estamos conociendo, pero ya me gusta c√≥mo se siente hablar con vos üí´. Ten√©s algo que alegra el d√≠a sin esfuerzo y que hace que una charla simple se vuelva especial. Me gusta descubrirte de a poco, re√≠rnos, compartir boludeces y ver qu√© va pasando üòä. Sin apuros ni etiquetas, solo disfrutando este momento tan lindo. Ojal√° hoy te regales sonrisas, calma y algo que te haga feliz üíõ. Y si en alg√∫n momento pens√°s en m√≠, que sea con una sonrisa üòâ‚ú®.";

    setTimeout(() => { carta.classList.add("abierta"); }, 1000);

    avion.style.transform = "translate(-50%, -50%) scale(1) rotate(-15deg)";
  }, 5000);
}

</script>
</body>
</html>
