<!doctype html>
<html lang="es" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Coraz√≥n de Part√≠culas</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&amp;family=Quicksand:wght@300;400;500&amp;display=swap" rel="stylesheet">
  <style>
    body {
      box-sizing: border-box;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    .dancing-font {
      font-family: 'Dancing Script', cursive;
    }
    
    .quicksand-font {
      font-family: 'Quicksand', sans-serif;
    }
    
    .particle {
      position: absolute;
      border-radius: 50%;
      pointer-events: none;
      will-change: transform, opacity;
    }
    
    .phrase {
      position: absolute;
      opacity: 0;
      animation: fadeInOut 4s ease-in-out forwards;
      text-shadow: 0 0 20px rgba(255, 107, 157, 0.8), 0 0 40px rgba(255, 107, 157, 0.4);
      white-space: nowrap;
    }
    
    @keyframes fadeInOut {
      0% { opacity: 0; transform: translateY(20px) scale(0.8); }
      20% { opacity: 1; transform: translateY(0) scale(1); }
      80% { opacity: 1; transform: translateY(0) scale(1); }
      100% { opacity: 0; transform: translateY(-20px) scale(0.8); }
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(-20px) rotate(5deg); }
    }
    
    @keyframes pulse {
      0%, 100% { transform: scale(1); filter: brightness(1); }
      50% { transform: scale(1.05); filter: brightness(1.2); }
    }
    
    @keyframes sparkle {
      0%, 100% { opacity: 0; transform: scale(0); }
      50% { opacity: 1; transform: scale(1); }
    }
    
    .sparkle {
      position: absolute;
      width: 4px;
      height: 4px;
      background: white;
      border-radius: 50%;
      animation: sparkle 1.5s ease-in-out infinite;
      box-shadow: 0 0 10px white, 0 0 20px #ff6b9d;
    }
    
    .floating-heart {
      position: absolute;
      animation: floatUp 6s ease-in-out infinite;
      opacity: 0.6;
    }
    
    @keyframes floatUp {
      0% { transform: translateY(100%) scale(0); opacity: 0; }
      10% { opacity: 0.6; }
      90% { opacity: 0.6; }
      100% { transform: translateY(-100vh) scale(1); opacity: 0; }
    }
    
    .glow-ring {
      position: absolute;
      border-radius: 50%;
      border: 2px solid rgba(255, 107, 157, 0.3);
      animation: expandRing 3s ease-out infinite;
    }
    
    @keyframes expandRing {
      0% { transform: scale(0.5); opacity: 1; }
      100% { transform: scale(2); opacity: 0; }
    }
    
    #main-phrase {
      animation: pulse 3s ease-in-out infinite;
    }
    
    .gradient-bg {
      background: linear-gradient(135deg, #1a0a1a 0%, #2d1f3d 25%, #1a1a2e 50%, #2d1f3d 75%, #1a0a1a 100%);
      background-size: 400% 400%;
      animation: gradientShift 15s ease infinite;
    }
    
    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    
       .volver-inicio{
        position: fixed;
        top: 16px;
        left: 20px;
        z-index: 9999;
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 10px 12px;
        border-radius: 999px;
        background: rgba(0,0,0,.55);
        border: 1px solid rgba(255,255,255,.20);
        color: #fff;
        text-decoration: none;
        font-weight: 800;
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        box-shadow: 0 10px 30px rgba(0,0,0,.25);
      }
      .volver-inicio:hover{ transform: translateY(-1px); background: rgba(0,0,0,.70); }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full quicksand-font">
    <a class="volver-inicio" href="../index.html" aria-label="Volver al inicio">‚Üê </a>

  <div id="app" class="h-full w-full gradient-bg relative overflow-hidden flex flex-col items-center justify-center"><!-- Floating background hearts -->
   <div id="bg-hearts" class="absolute inset-0 pointer-events-none"></div><!-- Glow rings container -->
   <div id="glow-rings" class="absolute inset-0 pointer-events-none flex items-center justify-center"></div><!-- Sparkles container -->
   <div id="sparkles" class="absolute inset-0 pointer-events-none"></div><!-- Main canvas for particles -->
   <canvas id="particle-canvas" class="absolute inset-0"></canvas><!-- Phrases container -->
   <div id="phrases" class="absolute inset-0 pointer-events-none"></div><!-- Main title -->
   <div class="relative z-10 text-center px-4">
    <h1 id="main-phrase" class="dancing-font text-4xl md:text-6xl lg:text-7xl text-pink-300 mb-4 drop-shadow-lg">Te quiero infinitamente</h1>
    <p class="quicksand-font text-pink-200/70 text-sm md:text-base tracking-widest uppercase">Hecho con amor Sol ‚ô•</p>
   </div><!-- Instruction hint -->
   <div class="absolute bottom-8 left-1/2 -translate-x-1/2 z-10">
    <p class="text-pink-300/50 text-xs md:text-sm quicksand-font animate-pulse">‚ú® Observa c√≥mo el amor toma forma ‚ú®</p>
   </div>
  </div>
  <script>
    const defaultConfig = {
      main_phrase: "Te amo infinitamente",
      primary_color: "#ff6b9d",
      secondary_color: "#a855f7",
      background_color: "#1a0a1a",
      text_color: "#fce7f3",
      accent_color: "#f472b6"
    };

    let config = { ...defaultConfig };

    const phrases = [
      "Eres mi todo ‚ù§Ô∏è",
      "Siempre juntos üíï",
      "Mi coraz√≥n es tuyo üíñ",
      "Te quiero mucho üíó",
      "Eres especial ‚ú®",
      "Por siempre üíù",
      "Mi amor eterno üíû",
      "Contigo soy feliz üåü",
      "Eres mi luz üåô",
      "Te adoro üíì"
    ];

    const canvas = document.getElementById('particle-canvas');
    const ctx = canvas.getContext('2d');
    let particles = [];
    let heartPoints = [];
    let animationPhase = 0;
    let frameCount = 0;

    function resizeCanvas() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      generateHeartPoints();
    }

    function generateHeartPoints() {
      heartPoints = [];
      const centerX = canvas.width / 2;
      const centerY = canvas.height / 2 - 30;
      const scale = Math.min(canvas.width, canvas.height) * 0.15;

      for (let angle = 0; angle < Math.PI * 2; angle += 0.02) {
        const x = 16 * Math.pow(Math.sin(angle), 3);
        const y = -(13 * Math.cos(angle) - 5 * Math.cos(2 * angle) - 2 * Math.cos(3 * angle) - Math.cos(4 * angle));
        
        heartPoints.push({
          x: centerX + x * scale / 16,
          y: centerY + y * scale / 16
        });
      }

      for (let i = 0; i < 150; i++) {
        const angle = Math.random() * Math.PI * 2;
        const r = Math.random() * 0.8;
        const x = 16 * Math.pow(Math.sin(angle), 3) * r;
        const y = -(13 * Math.cos(angle) - 5 * Math.cos(2 * angle) - 2 * Math.cos(3 * angle) - Math.cos(4 * angle)) * r;
        
        heartPoints.push({
          x: centerX + x * scale / 16,
          y: centerY + y * scale / 16
        });
      }
    }

    function createParticles() {
      particles = [];
      const particleCount = Math.min(heartPoints.length, 300);
      
      for (let i = 0; i < particleCount; i++) {
        const target = heartPoints[i % heartPoints.length];
        particles.push({
          x: Math.random() * canvas.width,
          y: Math.random() * canvas.height,
          targetX: target.x,
          targetY: target.y,
          size: Math.random() * 4 + 2,
          speed: Math.random() * 0.02 + 0.01,
          progress: 0,
          startX: Math.random() * canvas.width,
          startY: Math.random() * canvas.height,
          hue: Math.random() * 30 + 330,
          pulse: Math.random() * Math.PI * 2,
          delay: Math.random() * 100
        });
      }
    }

    function drawParticles() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      
      frameCount++;
      
      particles.forEach((p, index) => {
        if (frameCount < p.delay) return;
        
        const activeFrame = frameCount - p.delay;
        p.progress = Math.min(1, activeFrame * p.speed);
        
        const easeProgress = easeOutCubic(p.progress);
        
        p.x = p.startX + (p.targetX - p.startX) * easeProgress;
        p.y = p.startY + (p.targetY - p.startY) * easeProgress;
        
        const wobble = Math.sin(frameCount * 0.05 + p.pulse) * (1 - easeProgress) * 10;
        p.x += wobble;
        p.y += wobble * 0.5;
        
        const pulseSize = p.size + Math.sin(frameCount * 0.1 + p.pulse) * 1;
        
        const gradient = ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, pulseSize * 2);
        gradient.addColorStop(0, `hsla(${p.hue}, 100%, 70%, ${0.8 * p.progress})`);
        gradient.addColorStop(0.5, `hsla(${p.hue}, 100%, 60%, ${0.4 * p.progress})`);
        gradient.addColorStop(1, `hsla(${p.hue}, 100%, 50%, 0)`);
        
        ctx.beginPath();
        ctx.arc(p.x, p.y, pulseSize * 2, 0, Math.PI * 2);
        ctx.fillStyle = gradient;
        ctx.fill();
        
        ctx.beginPath();
        ctx.arc(p.x, p.y, pulseSize * 0.5, 0, Math.PI * 2);
        ctx.fillStyle = `hsla(${p.hue}, 100%, 90%, ${p.progress})`;
        ctx.fill();
      });

      if (particles.some(p => p.progress < 1)) {
        drawConnections();
      }
    }

    function drawConnections() {
      ctx.strokeStyle = 'rgba(255, 107, 157, 0.1)';
      ctx.lineWidth = 0.5;
      
      for (let i = 0; i < particles.length; i += 3) {
        for (let j = i + 1; j < Math.min(i + 10, particles.length); j += 2) {
          const dx = particles[i].x - particles[j].x;
          const dy = particles[i].y - particles[j].y;
          const dist = Math.sqrt(dx * dx + dy * dy);
          
          if (dist < 50) {
            ctx.beginPath();
            ctx.moveTo(particles[i].x, particles[i].y);
            ctx.lineTo(particles[j].x, particles[j].y);
            ctx.stroke();
          }
        }
      }
    }

    function easeOutCubic(t) {
      return 1 - Math.pow(1 - t, 3);
    }

    function createFloatingHearts() {
      const container = document.getElementById('bg-hearts');
      
      for (let i = 0; i < 15; i++) {
        setTimeout(() => {
          const heart = document.createElement('div');
          heart.className = 'floating-heart';
          heart.innerHTML = ['üíï', 'üíó', 'üíñ', 'üíù', '‚ú®'][Math.floor(Math.random() * 5)];
          heart.style.left = Math.random() * 100 + '%';
          heart.style.fontSize = (Math.random() * 20 + 10) + 'px';
          heart.style.animationDelay = (Math.random() * 6) + 's';
          heart.style.animationDuration = (Math.random() * 4 + 4) + 's';
          container.appendChild(heart);
        }, i * 400);
      }
    }

    function createSparkles() {
      const container = document.getElementById('sparkles');
      
      for (let i = 0; i < 30; i++) {
        const sparkle = document.createElement('div');
        sparkle.className = 'sparkle';
        sparkle.style.left = Math.random() * 100 + '%';
        sparkle.style.top = Math.random() * 100 + '%';
        sparkle.style.animationDelay = (Math.random() * 3) + 's';
        container.appendChild(sparkle);
      }
    }

    function showRandomPhrase() {
      const container = document.getElementById('phrases');
      const phrase = phrases[Math.floor(Math.random() * phrases.length)];
      
      const el = document.createElement('div');
      el.className = 'phrase dancing-font text-xl md:text-2xl lg:text-3xl';
      el.style.color = config.text_color;
      el.textContent = phrase;
      
      const padding = 100;
      el.style.left = (padding + Math.random() * (window.innerWidth - padding * 2)) + 'px';
      el.style.top = (padding + Math.random() * (window.innerHeight - padding * 2)) + 'px';
      
      container.appendChild(el);
      
      setTimeout(() => {
        el.remove();
      }, 4000);
    }

    function createGlowRings() {
      const container = document.getElementById('glow-rings');
      
      for (let i = 0; i < 3; i++) {
        const ring = document.createElement('div');
        ring.className = 'glow-ring';
        ring.style.width = '200px';
        ring.style.height = '200px';
        ring.style.animationDelay = (i * 1) + 's';
        container.appendChild(ring);
      }
    }

    function animate() {
      drawParticles();
      requestAnimationFrame(animate);
    }

    function init() {
      resizeCanvas();
      createParticles();
      createFloatingHearts();
      createSparkles();
      createGlowRings();
      animate();
      
      setInterval(showRandomPhrase, 2500);
      
      setInterval(() => {
        frameCount = 0;
        particles.forEach(p => {
          p.startX = p.x;
          p.startY = p.y;
          p.progress = 0;
          p.delay = Math.random() * 50;
        });
      }, 15000);
    }

    window.addEventListener('resize', () => {
      resizeCanvas();
      createParticles();
    });

    async function onConfigChange(newConfig) {
      config = { ...defaultConfig, ...newConfig };
      
      const mainPhrase = document.getElementById('main-phrase');
      if (mainPhrase) {
        mainPhrase.textContent = config.main_phrase || defaultConfig.main_phrase;
        mainPhrase.style.color = config.text_color || defaultConfig.text_color;
      }
    }

    function mapToCapabilities(cfg) {
      return {
        recolorables: [
          {
            get: () => cfg.background_color || defaultConfig.background_color,
            set: (value) => {
              config.background_color = value;
              window.elementSdk.setConfig({ background_color: value });
            }
          },
          {
            get: () => cfg.primary_color || defaultConfig.primary_color,
            set: (value) => {
              config.primary_color = value;
              window.elementSdk.setConfig({ primary_color: value });
            }
          },
          {
            get: () => cfg.text_color || defaultConfig.text_color,
            set: (value) => {
              config.text_color = value;
              window.elementSdk.setConfig({ text_color: value });
            }
          }
        ],
        borderables: [],
        fontEditable: {
          get: () => cfg.font_family || 'Dancing Script',
          set: (value) => {
            config.font_family = value;
            window.elementSdk.setConfig({ font_family: value });
          }
        },
        fontSizeable: undefined
      };
    }

    function mapToEditPanelValues(cfg) {
      return new Map([
        ["main_phrase", cfg.main_phrase || defaultConfig.main_phrase]
      ]);
    }

    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities,
        mapToEditPanelValues
      });
    }

    init();
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9c159baea1e19b23',t:'MTc2ODk4NTg4OS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>